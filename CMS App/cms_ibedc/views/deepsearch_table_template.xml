<?xml version="1.0" encoding="utf-8"?>
<odoo>  
  <template id = "deep_search_customers" >
        <t name="DeepSearchCustomers" t-name="website.deep_search_customers">
            <t t-call="website.layout">
            <t t-set="pageName" t-value="'deep_search_customers'"/>
                    <body style="position:absolute;top:0px,left:0;" onload="loadCustomerTemplate('customers_template','bodyload')">
                        <section class="top-navbar-container navigation">
                            <div class="nav-container">
                                <div class="brand">
                                    <div>
                                        <div class="ibedc-logo-parent"><img class="ibedc-logo" src="http://127.0.0.1:8080/src/UI/ibedc_logo.png"/></div>
                                    </div>
                                </div>
                                <nav>
                                <div class="nav-mobile"><a id="navbar-toggle" href="#!"><span></span></a></div>
                                <ul class="nav-list">
                                    <li>
                                    <a href="#!">Home</a>
                                    </li>
                                    <li>
                                    <a href="#!">About</a>
                                    </li>
                                    <li>
                                    <a href="#!">Services</a>
                                    <ul class="navbar-dropdown">
                                        <li>
                                        <a href="#!">Sass</a>
                                        </li>
                                        <li>
                                        <a href="#!">Less</a>
                                        </li>
                                        <li>
                                        <a href="#!">Stylus</a>
                                        </li>
                                    </ul>
                                    </li>
                                    <li>
                                    <a href="#!">Portfolio</a>
                                    </li>
                                    <li>
                                    <a href="#!">Category</a>
                                    <ul class="navbar-dropdown">
                                        <li>
                                        <a href="#!">Sass</a>
                                        </li>
                                        <li>
                                        <a href="#!">Less</a>
                                        </li>
                                        <li>
                                        <a href="#!">Stylus</a>
                                        </li>
                                    </ul>
                                    </li>
                                    <li>
                                    <a href="#!">Contact</a>
                                    </li>
                                </ul>
                                </nav>
                            </div>
                            </section>
                        <div class="parent-container">
                            <div class="navbar-container-main">
                                <div>
                                    <div class="ibedc-logo-parent"><img class="ibedc-logo" src="http://127.0.0.1:8080/src/UI/ibedc_logo.png"/></div>
                                </div>
                                <div class="navbar-container">
                                    <a onclick="redirect('dashboard')" style="text-decoration: none;" class="navbar-items"><i class="material-icons">dashboard</i><div>Dashboard</div></a>
                                    <a onclick="redirect('customers')" style="text-decoration: none;" class="navbar-items"><i class="material-icons">group</i><div>Customers</div></a>
                                    <a onclick="redirect('billing_history')" style="text-decoration: none;" class="navbar-items"><i class="material-icons">credit_card</i><div>Bills</div></a>
                                    <a onclick="redirect('payment_history')" style="text-decoration: none;" class="navbar-items"><i class="material-icons">payments</i><div>Payments</div></a>
                                    <a href="" style="text-decoration: none;" class="navbar-items"><i class="material-icons">devices</i><div class="flex-grow" style="width:120px;">Assets</div><div class="carousel"><i class="material-icons">chevron_right</i></div></a>
                                    <a href="" style="text-decoration: none;" class="navbar-items"><i class="material-icons">space_dashboard</i><div style="width:120px;">MSMS</div><div class="carousel"><i class="material-icons">chevron_right</i></div></a>
                                    <a href="" style="text-decoration: none;" class="navbar-items"><i class="material-icons">developer_mode</i><div style="width:120px;">Ops Manager</div><div class="carousel"><i class="material-icons">chevron_right</i></div></a>
                                    <a href="" style="text-decoration: none;" class="navbar-items"><i class="material-icons">feedback</i><div>Customer Complaints</div></a>
                                    <a href="" style="text-decoration: none;" class="navbar-items"><i class="material-icons">electric_meter</i><div style="width:117px;">Advanced Metering</div><i class="material-icons">chevron_right</i></a>
                                    <a href="" style="text-decoration: none;" class="navbar-items"><i class="material-icons">logout</i><div>Sign Out</div></a>
                                </div>
                            </div>
                            <div class="flex-col">
                                <div class="flex-row top-bar ">
                                    <div class="flex-rownowrap search-div">
                                        <div style="background: transparent;" class="search-icon-div margin-left-30"><i class="material-icons bk-mg">search</i></div>
                                        <input style="height:40px;outline:none;" id="search_customer_input" onkeyup="searchCustomer()" class="search" type="text" placeholder="Search a customer"></input>
                                    </div>
                                    <div class="flex-row flex-row-end margin-right-30" style="width:20%">
                                        <div class="user-logo"><img src=""/></div>
                                        
                                        <select style="width:200px; height:30px; text-align:center;" id="currentuser" class="shadow">
                                            <option><span><b></b></span></option>
                                            <option>Log out</option>
                                        </select>
                                    </div>
                                </div>
                                <div style="width:97%;" id="template_parent" class="flex-row-gap-30 margin-left-30 margin-right-30"></div>
                                <div style="width:100%;"  id="vcr" class="flex-row-gap-30 margin-left-30 margin-right-30"> 
                                </div>

                                <!-- Customer's list view template -->
                                <template id="customers_list_view">
                                    <div style="width:100%; height:100%;">
                                        <div class="top-header">
                                            <div class="header-start">
                                                <h2>Customers Search Results...</h2>
                                                <p><span t-esc="total_customers"/> customer records found</p>
                                            </div>
                                            <div class="header-end">
                                                <button onclick="exportTableToExcel('customers_table','excel_cms_customers')" class="exportbtn zoom shadow flex-row">
                                                    <i class="material-icons">cloud_download</i>
                                                    &amp;nbsp
                                                    <div>Export</div>
                                                </button>
                                                <button class="export-addbtn">
                                                    <i style="color:white; padding-top:5px;" class="material-icons">add</i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="table-card shadow" style="width:100%;" >
                                            <div style="margin:20px;">
                                                <div class="top-panel">
                                                    <div class="panel-start flex-row">
                                                        <select>
                                                            <option>Bulk Action</option>
                                                        </select>
                                                        <div class="panel-btn">
                                                            Apply
                                                        </div>
                                                    </div>
                                                    <div class="panel-end flex-row">
                                                        <!-- <input value="search" type="text" hidden/> -->
                                                        <span>
                                                            <i class="material-icons">search</i>
                                                        </span>
                                                        <span class="displaymodes" onclick="listmode()">
                                                            <i class="material-icons">view_list</i>
                                                        </span>
                                                        <span class="displaymodes" onclick="gridmode()">
                                                            <i class="material-icons">view_comfy</i>
                                                        </span>
                                                        <span>
                                                            <i class="material-icons">filter_list</i>
                                                        </span>
                                                        <span>
                                                            <i class="material-icons">settings</i>
                                                        </span>
                                                    </div>                                      
                                                </div>
                                                <div id="list-card">
                                                    <div style="width:100%;max-height: 650px; overflow-y: auto;">
                                                        <table id="customers_table" class="table">
                                                            <thead style="position:sticky;top:0;" class="thead-dark">
                                                                <!-- <th><input class="checkbox" type="checkbox"/></th> -->
                                                                <th>Name</th>
                                                                <th>Account Type</th>
                                                                <th>Phone Number</th>
                                                                <th>Email</th>
                                                                <th>Account No</th>
                                                                <th>Region</th>
                                                                <!-- <th>State</th> -->
                                                                <th>Business hub</th>
                                                                <th>Reg Date</th>
                                                                <th>status</th>
                                                                <th><button class="tool-btn">+</button></th>
                                                            </thead>
                                                            <tbody>
                                                                <t t-foreach="customers" t-as="customer">
                                                                    <tr class="displaymodes"  t-att-value="[customer['query_url'],component['url']]" onclick="navigateToCustomerDetailsTemplate(this)">
                                                                        <!-- <td><input class="checkbox" type="checkbox"/></td> -->
                                                                        <td>
                                                                            <div class="flex-row">
                                                                                <div class="contact-abrv">
                                                                                    <span style=" font-size:12px;color:white;" t-esc="self.abbreviateName(customer['name'])"/>
                                                                                </div>
                                                                                &amp;nbsp&amp;nbsp
                                                                                <div> <span t-esc="self.titleCase(customer['name'])"/></div>
                                                                            </div>
                                                                        </td>
                                                                        <t t-if="customer['account_type'] != '' and customer['account_type'] != None ">
                                                                            <td t-esc="customer['account_type']"></td>
                                                                        </t>
                                                                        <t t-else="">
                                                                            <td>&#x2022;&#x2022;&#x2022;</td>
                                                                        </t>

                                                                        <t t-if="customer['mobile'] != '' and customer['mobile'] != None ">
                                                                            <td t-esc="'+234-'+customer['mobile']"></td>
                                                                        </t>
                                                                        <t t-else="">
                                                                            <td>&#x2022;&#x2022;&#x2022;</td>
                                                                        </t>                                                        

                                                                        <t t-if="customer['email'] != '' and customer['email'] != None ">
                                                                            <td t-esc="customer['email']"></td>
                                                                        </t>
                                                                        <t t-else="">
                                                                            <td>&#x2022;&#x2022;&#x2022;</td>
                                                                        </t>

                                                                        <t t-if="customer['account_no'] != '' and customer['account_no'] != None ">
                                                                            <td t-esc="self.ParseFloat(customer['account_no']) or ' '"></td>
                                                                        </t>
                                                                        <t t-else="">
                                                                            <td>&#x2022;&#x2022;&#x2022;</td>
                                                                        </t>

                                                                        <t t-if="customer['city'] != '' and customer['city'] != None ">
                                                                            <td t-esc="customer['city']"></td>
                                                                        </t>
                                                                        <t t-else="">
                                                                            <td>&#x2022;&#x2022;&#x2022;</td>
                                                                        </t>
                                                                        <!-- <td><span t-esc="customer['state_id"/></td> -->
                                                                        <t t-if="customer.get('biz_hub') != '' and customer.get('biz_hub') != None ">
                                                                            <td t-esc="customer.get('biz_hub')"></td>
                                                                        </t>
                                                                        <t t-else="">
                                                                            <td>&#x2022;&#x2022;&#x2022;</td>
                                                                        </t>
                                                                        <!-- <td>Apata hub</td> -->

                                                                        <t t-if="customer['applicationdate'] != '' and customer['applicationdate'] != None ">
                                                                            <td t-esc="customer.get('applicationdate')"></td>
                                                                        </t>
                                                                        <t t-else="">
                                                                            <td>&#x2022;&#x2022;&#x2022;</td>
                                                                        </t>

                                                                        <t t-if="customer['statuscode'] != '' and customer['statuscode'] != None ">
                                                                            <td t-esc="customer.get('statuscode')"></td>
                                                                        </t>
                                                                        <t t-else="">
                                                                            <td>&#x2022;&#x2022;&#x2022;</td>
                                                                        </t>

                                                                        <td>&#x2022;&#x2022;&#x2022;</td>
                                                                    </tr>
                                                                </t>  
                                                            </tbody>
                                                        </table>     
                                                    </div>
                                                    <div class="products_pager form-inline justify-content-right mt-3">
                                                            <t t-call="website.pager">
                                                                <t t-set="_classes">mt-2 ml-md-2</t>
                                                            </t>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </template>
                                <!-- Customer's Kanban view template -->
                                <template class="flex-colnogap" id="tmpl">
                                <div class="flex-colnogap">
                                    <div class="flex-colnogap">
                                        <div class="top-header ">
                                            <div class="header-start">
                                                <h2>Customers Search Results...</h2>
                                                <p><span t-esc="total_customers"/> customer records found <div id = "searchparam"></div></p>
                                            </div>
                                            <div class="header-end">
                                                <button onclick="exportTableToExcel('customers_table','excel_cms_customers')" class="exportbtn zoom shadow flex-row">
                                                    <i class="material-icons">cloud_download</i>
                                                    &amp;nbsp
                                                    <div>Export</div>
                                                </button>
                                                <button class="export-addbtn">
                                                    <i style="color:white; padding-top:5px;" class="material-icons">add</i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex-row shadow" style="width:100%;">
                                         <div class="top-panel bg-white" style="width:100%">
                                            <div class="panel-start flex-row" style="width:500px;">
                                                <select>
                                                    <option>Bulk Actions</option>
                                                </select>
                                                <div class="panel-btn">
                                                    Apply
                                                </div>
                                            </div>
                                            <div class="panel-end flex-row" style="width:50%;">
                                                <span>
                                                    <i class="material-icons">search</i>
                                                </span>
                                                <span class="displaymodes" onclick="listmode()">
                                                    <i class="material-icons">view_list</i>
                                                </span>
                                                <span class="displaymodes" onclick="gridmode()">
                                                    <i class="material-icons">view_comfy</i>
                                                </span>
                                                <span>
                                                    <i class="material-icons">filter_list</i>
                                                </span>
                                                <span>
                                                    <i class="material-icons">settings</i>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                    
                                    <div class="gridbg bg-white" style="width:100%;max-height: 700px; overflow-y: auto;">
                                        <div  id="customers_grid" style="padding-left:30px;width:100%; margin-top:20px;margin-bottom:20px;" class="flex-row-wrap">
                                            <t t-foreach="customers" t-as="customer">
                                                <div class="contact-card zoom shadow">
                                                    <div style="width:100%" class="flex-colnogap ">
                                                        <div style="width:100%">
                                                            <div style="margin:20px;">
                                                                <div class="flex-col-justify-center">
                                                                    <div class="card-text-center">
                                                                        <div style="display:flex;flex-direction:column;align-items:center;justify-content:center; color:white;" class="contact-abrv-grid">
                                                                            <span style=" font-size:17px;color:white;" t-esc="self.abbreviateName(customer['name'])"/>
                                                                        </div>
                                                                    </div>
                                                                    <div class="card-text-center">
                                                                        <div><span t-esc="customer['name']"/></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div style="width:100%">
                                                            <div style="padding-left:20px; padding-right:20px;">
                                                                <div class="flex-col-gap-20">
                                                                    <div class="flex-row-space">
                                                                        <div class="panel-start" >Reg date</div>
                                                                        <div class="panel-end">24 Jun 2015</div>
                                                                    </div>
                                                                    <div class="flex-row-space">
                                                                        <div class="panel-start" >Account No</div>
                                                                        <div class="panel-end"><span t-esc="customer['account_no']"/></div>
                                                                    </div>
                                                                    <div class="flex-row-space">
                                                                        <div class="panel-start" >Account type</div>
                                                                        <div class="panel-end"><span t-esc="customer['account_type']"/></div>
                                                                    </div>
                                                                    <button t-att-value="[customer['query_url'],component['url']]" onclick="navigateToCustomerDetailsTemplate(this)" class="btn btn-primary">
                                                                        View details
                                                                    </button>
                                                                </div> 
                                                            </div> 
                                                        </div> 
                                                    </div>
                                                </div>
                                            </t>
                                        </div>
                                    </div>
                                    <div class="products_pager form-inline justify-content-center mt-3">
                                        <t t-call="website.pager">
                                            <t t-set="_classes">mt-2 ml-md-2</t>
                                        </t>
                                    </div>
                                </template>  
                            </div>
                        </div>
                    </body>
                </t>
            </t>
    </template>
</odoo> 